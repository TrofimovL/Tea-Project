<div *ngIf="successfulResponse" [routerLink]="''" id="thanks" class="container m-auto text-center border-primary border-3 border m-5 py-4 w-75 rounded-5">
  <h4>
    Спасибо за заказ. Мы свяжемся с вами в ближайшее время!
  </h4>
  <h4>Кликните, чтобы перейти на главную.</h4>
</div>

<form [formGroup]="form" class="container col-lg-5 mb-5">
  <div class="col text-center fw-bold h2 py-5">
    Сделать заказ
  </div>

  <div class="d-flex mx-auto row">
    <div class="form-group d-inline-block p-2">
      <label class="pb-2" for="inputProduct">Товар</label>
      <input
        type="text"
        class="form-control"
        id="inputProduct"
        [readOnly]="true"
        formControlName="title">
    </div>
  </div>

  <div class="d-flex  mx-auto row mb-3 p-0">
    <div class="form-group col-md-4 col-sm-6 d-inline-block p-2">
      <label class="pb-2 form-label" for="firstName">Имя</label>
      <input
        type="text"
        class="form-control"
        id="firstName"
        placeholder=""
        value=""
        required
        formControlName="firstName">
      <div>
        <div
          class="invalid-feedback"
          *ngIf="form.get('firstName')?.invalid
                && (form.get('firstName')?.touched || form.get('firstName')?.dirty)
                && form.get('firstName')?.errors?.['required']">
          Укажите своё имя.
        </div>
        <div
          class="invalid-feedback"
          *ngIf="form.get('firstName')?.invalid
                && (form.get('firstName')?.touched || form.get('firstName')?.dirty)
                && form.get('firstName')?.errors?.['letters']
                && !form.get('firstName')?.errors?.['required']">
          Имя должно содержать только буквы.
        </div>


      </div>

    </div>
    <div class="form-group col-md-4 col-sm-6 d-inline-block p-2">
      <label class="pb-2 form-label" for="inputSurname">Фамилия</label>
      <input
        type="text"
        class="form-control"
        id="inputSurname"
        formControlName="lastName">
      <div>
        <div
          class="invalid-feedback"
          *ngIf="form.get('lastName')?.invalid
                && (form.get('lastName')?.touched || form.get('lastName')?.dirty)
                && form.get('lastName')?.errors?.['required']">
          Укажите свою фамилию.
        </div>
        <div
          class="invalid-feedback"
          *ngIf="form.get('lastName')?.invalid
                && (form.get('lastName')?.touched || form.get('lastName')?.dirty)
                && form.get('lastName')?.errors?.['letters']
                && !form.get('lastName')?.errors?.['required']">
          Имя должно содержать только буквы.
        </div>
      </div>
    </div>
    <div class="form-group col-md-4 d-inline-block p-2">
      <label class="pb-2 form-label" for="inputPhone">Телефон</label>
      <input
        type="number"
        class="form-control"
        id="inputPhone"
        required
        formControlName="phone"
      >
      <div>
        <div
          class="invalid-feedback"
          *ngIf="form.get('phone')?.invalid
                && (form.get('phone')?.touched || form.get('phone')?.dirty)
                && form.get('phone')?.errors?.['required']">
          Укажите свой номер телефона.
        </div>

        <div
          class="invalid-feedback"
          *ngIf="form.get('phone')?.invalid
                && (form.get('phone')?.touched || form.get('phone')?.dirty)
                && form.get('phone')?.errors?.['phone']">
          Номер телефона должен содержать 11 цифр.
        </div>


      </div>

    </div>
  </div>

  <div class="d-flex mx-auto row">
    <div class="form-group  col-sm-6 d-inline-block p-2">
      <label class="pb-2 form-label" for="inputCountry">Страна</label>
      <input
        type="text"
        class="form-control"
        id="inputCountry"
        required
        formControlName="country">

      <div>
        <div
          class="invalid-feedback"
          *ngIf="form.get('country')?.invalid
                && (form.get('country')?.touched || form.get('country')?.dirty)
                && form.get('country')?.errors?.['required']">
          Укажите страну.
        </div>
        <div
          class="invalid-feedback"
          *ngIf="form.get('country')?.invalid
                && (form.get('country')?.touched || form.get('country')?.dirty)
                && form.get('country')?.errors?.['letters']
                && !form.get('country')?.errors?.['required']">
          Поле "Страна" должно содержать только буквы.
        </div>
      </div>
    </div>
    <div class="form-group  col-sm-6 d-inline-block p-2">
      <label class="pb-2 form-label" for="inputIndex">Индекс</label>
      <input
        type="text"
        class="form-control"
        id="inputIndex"
        maxlength="6"
        required
        formControlName="index"
      >
      <div
        class="invalid-feedback"
        *ngIf="form.get('index')?.invalid
                && (form.get('index')?.touched || form.get('index')?.dirty)
                && form.get('index')?.errors?.['required']">
        Укажите индекс.
      </div>
    </div>
  </div>

  <div class="d-flex mx-auto row">
    <div class="form-group d-inline-block p-2">
      <label class="pb-2 form-label" for="inputAddress">Адрес</label>
      <input
        type="text"
        class="form-control"
        id="inputAddress"
        required
        formControlName="address"
      >
      <div>
        <div
          class="invalid-feedback"
          *ngIf="form.get('address')?.invalid
                && (form.get('address')?.touched || form.get('address')?.dirty)
                && form.get('address')?.errors?.['required']">
          Укажите адрес.
        </div>
        <div
          class="invalid-feedback"
          *ngIf="form.get('address')?.invalid
                && (form.get('address')?.touched || form.get('address')?.dirty)
                && form.get('address')?.errors?.['address']
                && !form.get('address')?.errors?.['required']">
          Адрес может содержать только буквы, цифры, дефис и слеш.
        </div>
      </div>
    </div>
  </div>

  <div class="d-flex mx-auto row">
    <div class="form-group d-inline-block p-2">
      <label class="pb-2 form-label" for="inputComment">Комментарий</label>
      <textarea class="form-control" id="inputComment"></textarea>
    </div>
  </div>

  <div class="w-75 mt-4 px-2">
    <button (click)="formButtonClick()" [attr.disabled]="inProcess" type="button" class="border-dark hvr-wobble-vertical btn btn-primary d-inline-block px-5" id="formButton">Отправить</button>
  </div>

  <div *ngIf="!isValid" class="p-2 invalid-feedback">
    Заполните все поля формы.
  </div>

  <div *ngIf="errorOccurred" class="p-2 invalid-feedback">
    Произошла ошибка. Попробуйте еще раз.
  </div>
</form>


